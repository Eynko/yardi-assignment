<form [formGroup]="gameItemAnalysisForm" (ngSubmit)="onSubmit()">

  <tr>
    <th>User Name</th>
    <th>Item Name</th>
    <th>Price</th>
  </tr>


  <!-- <div formGroupName="item1">

    <label for="user-name-1">User Name 1: </label>
    <input id="user-name-1" type="text" formControlName="userName1">
    <label for="item-name-1">Item Name 1: </label>
    <input id="item-name-1" type="text" formControlName="itemName1">
    <label for="item-price-1">Item Price 1: </label>
    <input id="item-price-1" type="text" formControlName="itemPrice1">

  </div> -->

  <div formArrayName="items">

    <div *ngFor="let item of items.controls; let i=index" [formGroupName]="i">

      <!-- <label for="user-name">User Name {{ i+2 }}: </label> -->
      <input id="user-name" type="text" formControlName="userName">
      <!-- <label for="item-name">Item Name {{ i+2 }}: </label> -->
      <input id="item-name" type="text" formControlName="itemName">
      <!-- <label for="item-price">Item Price {{ i+2 }}: </label> -->
      <input id="item-price" type="text" formControlName="itemPrice">

    </div>

  </div>

  <div>
    <button class="bottomForm" type="button" (click)="addItems()">+ Add another item price</button>

    <button class="bottomForm" id="rButton" type="button" (click)="deleteItems()">- Remove last item price</button>
    
    <button class="bottomForm" id="sButton" type="submit"
    [disabled]="!gameItemAnalysisForm.valid">Submit</button>
  </div>

  <div>
    <div *ngIf="gameItemAnalysisForm.valid == false;else elseBlock">
      <p>Please fill in all the inputs with valid data.</p> 
      <small>-User Names contain only letters and numbers.<br></small>
      <small>-Item Names contain only letters, spaces, and %.<br></small>
      <small>-Prices contain only numbers.<br></small>
    </div>
    <ng-template #elseBlock>
      <p>Data is valid!</p> 
    </ng-template>
  </div>
  <!-- <p *ngIf="gameItemAnalysisForm.get()></p> -->

</form>